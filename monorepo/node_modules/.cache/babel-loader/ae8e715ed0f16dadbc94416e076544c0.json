{"ast":null,"code":"var _jsxFileName = \"/home/eydwales/Documents/edweis/pepper/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './App.css';\nimport { encodeBin, useAutomerge } from './lib/useAutomerge';\nimport Automerge from 'automerge';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [doc, updateDoc] = useAutomerge({\n    expenses: []\n  });\n  const [value, setValue] = useState(0);\n  const [name, setName] = useState('');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"\",\n        children: \"Pepper\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Expenses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: doc.expenses.map((e, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [e.name, \" - \", e.value, ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateDoc(d => {\n                delete d.expenses[index];\n              }),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 19\n            }, this)]\n          }, e.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"Value\",\n            value: value,\n            onChange: e => setValue(Number(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Name\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => updateDoc(d => d.expenses.push({\n              key: nanoid(),\n              name,\n              value\n            })),\n            children: \"Add expense\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Dump\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Size dump: \", encodeBin(Automerge.save(doc)).length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Size json: \", JSON.stringify(doc).length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: Automerge.getHistory(doc).map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [d.change.time, \" - \", d.snapshot.expenses.length]\n            }, d.change.hash, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 7\n  }, this);\n}\n\n_s(App, \"HR5NKjbX5iEdcwyY03C1wHVuFjg=\", false, function () {\n  return [useAutomerge];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/eydwales/Documents/edweis/pepper/src/App.tsx"],"names":["React","useState","encodeBin","useAutomerge","Automerge","App","doc","updateDoc","expenses","value","setValue","name","setName","map","e","index","d","key","Number","target","push","nanoid","save","length","JSON","stringify","getHistory","change","time","snapshot","hash"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport { encodeBin, useAutomerge } from './lib/useAutomerge';\nimport Automerge from  'automerge'\ntype Expense = { key: string; name: string; value: number };\ntype DataT = {\n  expenses: Expense[];\n};\n\nfunction App() {\n    const [doc, updateDoc] = useAutomerge<DataT>({ expenses: [] });\n    const [value, setValue] = useState(0);\n    const [name, setName] = useState('');\n    return (\n      <div>\n        <main className=\"\">\n          <h1 className=\"\">Pepper</h1>\n          <hr className=\"\" />\n          <div>\n            <div>\n              <h2>Expenses</h2>\n            </div>\n            <ul>\n              {doc.expenses.map((e, index) => (\n                <li key={e.key}>\n                  {e.name} - {e.value}{' '}\n                  <button\n                    onClick={() =>\n                      updateDoc((d) => {\n                        delete d.expenses[index];\n                      })\n                    }\n                  >\n                    Remove\n                  </button>\n                </li>\n              ))}\n            </ul>\n            <div>\n              <input\n                type=\"number\"\n                placeholder=\"Value\"\n                value={value}\n                onChange={(e) => setValue(Number(e.target.value))}\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n              <button\n                onClick={() =>\n                  updateDoc((d) =>\n                    d.expenses.push({ key: nanoid(), name, value }),\n                  )\n                }\n              >\n                Add expense\n              </button>\n            </div>\n            <div>\n              <h2>Dump</h2>\n              <div>Size dump: {encodeBin(Automerge.save(doc)).length}</div>\n              <div>Size json: {JSON.stringify(doc).length}</div>\n              <h2>History</h2>\n              <div>\n                {Automerge.getHistory(doc).map((d) => (\n                  <div key={d.change.hash}>\n                    {d.change.time} - {d.snapshot.expenses.length}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    \n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}