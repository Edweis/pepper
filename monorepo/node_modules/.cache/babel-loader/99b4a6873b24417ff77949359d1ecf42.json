{"ast":null,"code":"var _jsxFileName = \"/home/eydwales/Documents/edweis/pepper/src/App.tsx\";\nimport React from 'react';\nimport './App.css';\nimport { encodeBin } from './lib/useAutomerge';\nimport Automerge from 'automerge';\nimport { nanoid } from 'nanoid';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  // const [doc, updateDoc] = useAutomerge<DataT>({ expenses: [] });\n  // const [value, setValue] = useState(0);\n  // const [name, setName] = useState('');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: \"Hello\"\n  }, void 0, false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"\",\n        children: \"Pepper\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Expenses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: doc.expenses.map((e, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [e.name, \" - \", e.value, ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateDoc(d => {\n                delete d.expenses[index];\n              }),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 28,\n              columnNumber: 19\n            }, this)]\n          }, e.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"Value\",\n            value: value,\n            onChange: e => setValue(Number(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Name\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => updateDoc(d => d.expenses.push({\n              key: nanoid(),\n              name,\n              value\n            })),\n            children: \"Add expense\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Dump\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Size dump: \", encodeBin(Automerge.save(doc)).length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Size json: \", JSON.stringify(doc).length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: Automerge.getHistory(doc).map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [d.change.time, \" - \", d.snapshot.expenses.length]\n            }, d.change.hash, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 7\n  }, this);\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/eydwales/Documents/edweis/pepper/src/App.tsx"],"names":["React","encodeBin","Automerge","nanoid","App","doc","expenses","map","e","index","name","value","updateDoc","d","key","setValue","Number","target","setName","push","save","length","JSON","stringify","getHistory","change","time","snapshot","hash"],"mappings":";AAAA,OAAOA,KAAP,MAAgC,OAAhC;AACA,OAAO,WAAP;AACA,SAASC,SAAT,QAAwC,oBAAxC;AACA,OAAOC,SAAP,MAAuB,WAAvB;AACA,SAAQC,MAAR,QAAqB,QAArB;;;;AAKA,SAASC,GAAT,GAAe;AACX;AACA;AACA;AACA,sBAAO;AAAA;AAAA,mBAAP;AACA,sBACE;AAAA,2BACE;AAAM,MAAA,SAAS,EAAC,EAAhB;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAI,QAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA,gCACE;AAAA,iCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAA,oBACGC,GAAG,CAACC,QAAJ,CAAaC,GAAb,CAAiB,CAACC,CAAD,EAAIC,KAAJ,kBAChB;AAAA,uBACGD,CAAC,CAACE,IADL,SACcF,CAAC,CAACG,KADhB,EACuB,GADvB,eAEE;AACE,cAAA,OAAO,EAAE,MACPC,SAAS,CAAEC,CAAD,IAAO;AACf,uBAAOA,CAAC,CAACP,QAAF,CAAWG,KAAX,CAAP;AACD,eAFQ,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA,aAASD,CAAC,CAACM,GAAX;AAAA;AAAA;AAAA;AAAA,kBADD;AADH;AAAA;AAAA;AAAA;AAAA,gBAJF,eAoBE;AAAA,kCACE;AACE,YAAA,IAAI,EAAC,QADP;AAEE,YAAA,WAAW,EAAC,OAFd;AAGE,YAAA,KAAK,EAAEH,KAHT;AAIE,YAAA,QAAQ,EAAGH,CAAD,IAAOO,QAAQ,CAACC,MAAM,CAACR,CAAC,CAACS,MAAF,CAASN,KAAV,CAAP;AAJ3B;AAAA;AAAA;AAAA;AAAA,kBADF,eAOE;AACE,YAAA,IAAI,EAAC,MADP;AAEE,YAAA,WAAW,EAAC,MAFd;AAGE,YAAA,KAAK,EAAED,IAHT;AAIE,YAAA,QAAQ,EAAGF,CAAD,IAAOU,OAAO,CAACV,CAAC,CAACS,MAAF,CAASN,KAAV;AAJ1B;AAAA;AAAA;AAAA;AAAA,kBAPF,eAaE;AACE,YAAA,OAAO,EAAE,MACPC,SAAS,CAAEC,CAAD,IACRA,CAAC,CAACP,QAAF,CAAWa,IAAX,CAAgB;AAAEL,cAAAA,GAAG,EAAEX,MAAM,EAAb;AAAiBO,cAAAA,IAAjB;AAAuBC,cAAAA;AAAvB,aAAhB,CADO,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,gBApBF,eA2CE;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sCAAiBV,SAAS,CAACC,SAAS,CAACkB,IAAV,CAAef,GAAf,CAAD,CAAT,CAA+BgB,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAA,sCAAiBC,IAAI,CAACC,SAAL,CAAelB,GAAf,EAAoBgB,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE;AAAA,sBACGnB,SAAS,CAACsB,UAAV,CAAqBnB,GAArB,EAA0BE,GAA1B,CAA+BM,CAAD,iBAC7B;AAAA,yBACGA,CAAC,CAACY,MAAF,CAASC,IADZ,SACqBb,CAAC,CAACc,QAAF,CAAWrB,QAAX,CAAoBe,MADzC;AAAA,eAAUR,CAAC,CAACY,MAAF,CAASG,IAAnB;AAAA;AAAA;AAAA;AAAA,oBADD;AADH;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA3CF;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAkEH;;KAvEQxB,G;AAyET,eAAeA,GAAf","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\nimport { encodeBin, useAutomerge } from './lib/useAutomerge';\nimport Automerge from  'automerge'\nimport {nanoid} from 'nanoid'\ntype Expense = { key: string; name: string; value: number };\ntype DataT = {\n  expenses: Expense[];\n};\nfunction App() {\n    // const [doc, updateDoc] = useAutomerge<DataT>({ expenses: [] });\n    // const [value, setValue] = useState(0);\n    // const [name, setName] = useState('');\n    return <>Hello</>\n    return (\n      <div>\n        <main className=\"\">\n          <h1 className=\"\">Pepper</h1>\n          <hr className=\"\" />\n          <div>\n            <div>\n              <h2>Expenses</h2>\n            </div>\n            <ul>\n              {doc.expenses.map((e, index) => (\n                <li key={e.key}>\n                  {e.name} - {e.value}{' '}\n                  <button\n                    onClick={() =>\n                      updateDoc((d) => {\n                        delete d.expenses[index];\n                      })\n                    }\n                  >\n                    Remove\n                  </button>\n                </li>\n              ))}\n            </ul>\n            <div>\n              <input\n                type=\"number\"\n                placeholder=\"Value\"\n                value={value}\n                onChange={(e) => setValue(Number(e.target.value))}\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n              <button\n                onClick={() =>\n                  updateDoc((d) =>\n                    d.expenses.push({ key: nanoid(), name, value }),\n                  )\n                }\n              >\n                Add expense\n              </button>\n            </div>\n            <div>\n              <h2>Dump</h2>\n              <div>Size dump: {encodeBin(Automerge.save(doc)).length}</div>\n              <div>Size json: {JSON.stringify(doc).length}</div>\n              <h2>History</h2>\n              <div>\n                {Automerge.getHistory(doc).map((d) => (\n                  <div key={d.change.hash}>\n                    {d.change.time} - {d.snapshot.expenses.length}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    \n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}